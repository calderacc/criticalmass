{% extends 'CalderaCriticalmassDesktopBundle:Common:StandardTemplate.html.twig' %}

{% block title %}Deine Apps{% endblock %}

{% block content %}
    <div class="container">
        <table id="cityList" class="table">
            <tr id="tableHeaderRow">
                <th>Titel</th>
                <th>Erstellt</th>
                <th>Zugriffsschl√ºssel</th>
                <th>Aufrufe</th>
                <th>Status</th>
            </tr>
            {% for app in apps %}
            <tr>
                <td>{{ app.getTitle() }}</td>
                <td>{{ app.getCreationDateTime().format('Y-m-d H:i') }}</td>
                <td><code class="hidden">{{ app.getToken() }}</code><button class="showTokenButton btn btn-xs btn-default">anzeigen</button></td>
                <td>{{ app.getApiCalls() }}</td>
                <td>{% if app.getApproved() == 1 %}{% if app.getEnabled == 1 %}aktiv{% else %}inaktiv{% endif %}{% else %}Warten auf Freischaltung{% endif %}</td>
            </tr>
            {% endfor %}
        </table>
        <script type="text/javascript">
            window.onload = function()
            {
                $('.showTokenButton').on('click', function()
                {
                    $(this).prev().removeClass('hidden');
                    $(this).hide();
                });
            };
        </script>
    </div>
{% endblock %}