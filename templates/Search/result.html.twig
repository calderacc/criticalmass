{% extends 'Template/StandardTemplate.html.twig' %}

{% block title %}Suchergebnisse{% endblock %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>
                    Deine Suchergebnisse
                </h1>
            </div>
        </div>

        <div class="row">
            <form action="{{ path('caldera_criticalmass_search_query') }}" method="get">
                <div class="col-md-3">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="query-input">
                                    Deine Suchanfrage
                                </label>
                                <input type="text" class="form-control" name="query" value="{{ query }}"
                                       id="query-input"
                                       placeholder="Deine Suchanfrage"/>
                            </div>

                            <button type="submit" class="btn btn-success pull-right">
                                Finden
                            </button>
                        </div>
                    </div>
                    {#
                                        <div class="row">
                                            <div class="col-md-12">
                                                <ul>
                                                    {% for city in resultSet.getAggregations().city.buckets %}
                                                        <li>
                                                            <input type="checkbox" name="cities[]" value="{{ city.key }}"/> {{ city.key }}
                                                            ({{ city.doc_count }})
                                                        </li>
                                                    {% endfor %}
                                                </ul>

                                                <ul>
                                                    {% for country in resultSet.getAggregations().country.buckets %}
                                                        <li>
                                                            <input type="checkbox" name="countries[]" value="{{ country.key }}"/> {{ country.key }}
                                                            ({{ country.doc_count }})
                                                        </li>
                                                    {% endfor %}
                                                </ul>
                                            </div>
                                        </div>
                                    #}
                </div>
            </form>

            <div class="col-md-9">
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active">
                        <a href="#city-results" aria-controls="home" role="tab" data-toggle="tab">
                            <i class="fa fa-university"></i>
                            St√§dte
                        </a>
                    </li>

                    <li role="presentation">
                        <a href="#ride-results" aria-controls="profile" role="tab" data-toggle="tab">
                            <i class="fa fa-bicycle"></i>
                            Touren
                        </a>
                    </li>
                </ul>

                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="city-results">
                        {% for cityResult in cityResults %}
                        {% include 'Search/includes/_city.html.twig' with { city: cityResult } %}
                        {% endfor %}
                    </div>

                    <div role="tabpanel" class="tab-pane" id="ride-results">
                        {% for rideResult in rideResults %}
                        {% include 'Search/includes/_ride.html.twig' with { ride: rideResult } %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
